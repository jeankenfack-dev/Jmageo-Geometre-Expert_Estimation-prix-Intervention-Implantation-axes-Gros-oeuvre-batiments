(function(_0x4f2d9e,_0x1c2c0f){const _0x4b6f61=function(_0x2b8b4e){while(--_0x2b8b4e){_0x4f2d9e['push'](_0x4f2d9e['shift']());}};_0x4b6f61(++_0x1c2c0f);}(_0x2c5b,0x1a3));const _0x5c3b=function(_0x4f2d9e,_0x1c2c0f){_0x4f2d9e=_0x4f2d9e-0x0;let _0x4b6f61=_0x2c5b[_0x4f2d9e];return _0x4b6f61;};const _0x4a2e=[0x30,0x32,0x31];(function(){const _0x3e6c42=0x30+0x18;const _0x2b1e77=48.5701,_0x5f4a1a=2.6324;const _0x1c45d9=function(_0x3a33d2,_0x5b6c7d,_0x2f4d98,_0x45c93c){const _0x4d8a23=6371,_0x1e6d8b=(_0x2f4d98-_0x3a33d2)*Math.PI/180,_0x52b41d=(_0x45c93c-_0x5b6c7d)*Math.PI/180,_0x37f85a=Math.sin(_0x1e6d8b/2)**2+Math.cos(_0x3a33d2*Math.PI/180)*Math.cos(_0x2f4d98*Math.PI/180)*Math.sin(_0x52b41d/2)**2;return 2*_0x4d8a23*Math.atan2(Math.sqrt(_0x37f85a),Math.sqrt(1-_0x37f85a));};const _0x5a4e30=async function(_0x28e4dd){const _0x4d6b1e="https://nominatim.openstreetmap.org/search?format=json&q="+encodeURIComponent(_0x28e4dd)+"&countrycodes=fr";const _0x2f98aa=await fetch(_0x4d6b1e),_0x5d7a21=await _0x2f98aa.json();if(!_0x5d7a21.length)throw new Error();return{lat:+_0x5d7a21[0].lat,lon:+_0x5d7a21[0].lon};};document.getElementById("btn").addEventListener("click",async function(){const _0x5d1c29=document.getElementById("adresse").value,_0x2e4b3a=document.getElementById("type").value,_0x4e8d61=parseInt(document.getElementById("n").value),_0x1a3e8d=document.getElementById("resultat");if(!_0x5d1c29||_0x4e8d61<=0){_0x1a3e8d.innerHTML="Veuillez saisir une adresse valide.";return;} _0x1a3e8d.innerHTML="Calcul en cours...";try{const _0x3a9d44=await _0x5a4e30(_0x5d1c29),_0x1d2b67=1.3*_0x1c45d9(_0x2b1e77,_0x5f4a1a,_0x3a9d44.lat,_0x3a9d44.lon);let _0x53c12e;"A"===_0x2e4b3a?_0x53c12e=_0x4e8d61<=2?900+3.5*_0x1d2b67+250*_0x4e8d61:1200+3.5*_0x1d2b67+200*_0x4e8d61:_0x53c12e=_0x4e8d61<=2?500+3.5*_0x1d2b67+120*_0x4e8d61:800+3.5*_0x1d2b67+110*_0x4e8d61;_0x1a3e8d.innerHTML="Distance estimée : <strong>"+_0x1d2b67.toFixed(1)+" km</strong><br>Prix estimatif : <strong>"+_0x53c12e.toFixed(0)+" € HT</strong>";}catch(_0x48a1b3){_0x1a3e8d.innerHTML="Erreur lors de la localisation du chantier.";}});}());
